<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>MDIA 2294</title>
	
</head>
<body>

	<h1>MDIA 2294: WK2_EX3</h1>
	
	<h2>Course Mark Calculator</h2>
	
	<p>Please enter marks as their decimal equivilant.</p>
	
	<table>
	    <tr>
	        <td>Professionalism:</td>
	        <td><input id="prof" type="text" /></td>
	        <td>@10% = <span id="prof-percent"></span></td>
	    </tr>
	    <tr>
	        <td>Assignments (all):</td>
	        <td><input id="assign" type="text" /></td>
	        <td>@40% = <span id="assign-percent"></span></td>
	    </tr>
	    <tr>
	        <td>Quiz 1:</td>
	        <td><input id="quiz-1" type="text" /></td>
	        <td>@10% = <span id="quiz-1-percent"></span></td>
	    </tr>
	    <tr>
	        <td>Quiz 2:</td>
	        <td><input id="quiz-2" type="text" /></td>
	        <td>@10% = <span id="quiz-2-percent"></span></td>
	    </tr>
	    <tr>
	        <td>Final Project:</td>
	        <td><input id="project" type="text" /></td>
	        <td>@30% = <span id="project-percent"></span></td>
	    </tr>
	    <tr>
	        <td></td>
	        <td>
	            <button id="calculate">Calculate</button>
	        </td>
	        <td style="border-top:solid 1px black;">
	            <div style="font-weight:bold;">Final: <span id="result"></span></div>
                <div style="font-style:italic;" id="result-note"></div>
	        </td>	        
	    </tr>
	</table>

	<script>
		
		const calculate_btn = document.querySelector('#calculate');
	
		const prof_weight = 10;
		const assign_weight = 40;
		const quiz_weight = 10;
		const proj_weight = 30;
		
		function calc_marks()
		{   
			let total = 0;  // used for the running total
			let line_total = 0;  // used for each line item twice
			
			// first the professionalism
			line_total = document.querySelector("#prof").value * prof_weight;
			document.querySelector("#prof-percent").innerHTML = line_total.toFixed(2);
			total += line_total;
			
			// then the assignments
			line_total = document.querySelector("#assign").value * assign_weight;
			document.querySelector("#assign-percent").innerHTML = line_total.toFixed(2);
			total += line_total;
			
			// then quiz 1
			line_total = document.querySelector("#quiz-1").value * quiz_weight;
			document.querySelector("#quiz-1-percent").innerHTML = line_total.toFixed(2);
			total += line_total;
					
			// then quiz 2
			line_total = document.querySelector("#quiz-2").value * quiz_weight;
			document.querySelector("#quiz-2-percent").innerHTML = line_total.toFixed(2);
			total += line_total;
					
			// then the final project
			line_total = document.querySelector("#project").value * proj_weight;
			document.querySelector("#project-percent").innerHTML = line_total.toFixed(2);
			total += line_total;	
			
			// finally display the running total
			// note that we concatenate a % chracter onto the end
			document.querySelector("#result").innerHTML = total.toFixed(2) + "%";	    
			
			// display a message
			//document.querySelector("#result-note").innerHTML = (total >= 50) ? "PASS" : "FAIL" ;
			
			// 0763: Instead of just showing PASS or FAIL, we use IF-statement to have multiple results
			// If the total grade is less than 50
			// Run the first code block
			// If the total is anything else
			// Run the second
			if (total < 50) {
				document.querySelector("#result").style.color = "red";
				document.querySelector("#result-note").innerHTML = "Fail";
			} else if (total >= 80) {
				document.querySelector("#result").style.color = "gold";
				document.querySelector("#result-note").innerHTML = "Honours";
			} else {
				document.querySelector("#result").style.color = "green";
				document.querySelector("#result-note").innerHTML = "Pass";
			}
		
		}

		calculate_btn.addEventListener("click", calc_marks);
		
		</script>
	
</body>
</html>